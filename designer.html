<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Stimulsoft Reports Designer</title>
    <link href="lib/Css/stimulsoft.designer.office2013.whiteblue.css" rel="stylesheet">
    <link href="lib/Css/stimulsoft.viewer.office2013.whiteblue.css" rel="stylesheet">
    <script src="lib/stimulsoft.reports.js"></script>
    <script src="lib/stimulsoft.viewer.js"></script>
    <script src="lib/stimulsoft.designer.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: sans-serif;
        }
    </style>
</head>

<body>
    <div id="designerContent"></div>
    <script>
        var options = new Stimulsoft.Designer.StiDesignerOptions();
        options.appearance.fullScreenMode = true;

        var designer = new Stimulsoft.Designer.StiDesigner(options, "StiDesigner", false);

        var report = new Stimulsoft.Report.StiReport();

        fetch('data/demos.json')
            .then(function (response) { return response.json(); })
            .then(function (demos) {
                var dataSet = new Stimulsoft.System.Data.DataSet("DemosDataSet");
                dataSet.readJson({ Demos: demos });
                report.regData("DemosDataSet", "DemosDataSet", dataSet);
                report.dictionary.synchronize();

                designer.report = report;
                designer.renderHtml("designerContent");
            })
            .catch(function (err) {
                console.error("Error loading data:", err);
                if (window.location.protocol === 'file:') {
                    alert("Error loading 'data/demos.json'. Browsers restrict Fetch API for local files. Please run this folder with a local server (e.g., Live Server in VS Code) or use Firefox.");
                } else {
                    alert("Error loading data: " + err.message);
                }
            });
    </script>
</body>

</html>
